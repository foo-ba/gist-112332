<!DOCTYPE html>
<html>
<head>
</head>
<body>
<div id="app" style="display: none;">
  <div style="filter: blur(60px); position: relative; overflow: hidden; max-height: 200px;">
    <iframe id="fr" width="540" height="360" style="margin-top:-80px;" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>
  </div>
  <div style="position: absolute; top: 100px; margin-top: -20px; height: 40px; pointer-events: none; left: 270px; margin-left: -20px; width: 40px; text-align: center; font-size: 50px;">▶️</div>
<div id="clickity" style="position: fixed; left:0;top:0;right:0;bottom:0; background-color: white;"><p onclick="clicked()" style="text-align:center; margin-top:100px; font-weight:bold; font-size:30px; width: 540px;">Ready? Tap</p></div>
<div id="hide" style="display: none; position: fixed; left:0;top:0;right:0;bottom:0; background-color: white;"><p style="text-align:center; margin-top:100px; font-weight:bold; font-size:30px; width: 540px;">Got it? <a onclick="retry()" style="font-size: 18px;">Retry</a></p></div>
</div>
	
<script>
const createUrl = function(code, start, end) {
	return "https://www.youtube.com/embed/" + code + "?start=" + start + "&end=" + end + "&autoplay=0";
}

const clicked = function() {
	document.getElementById('clickity').style.display='none';
	setTimeout(function(){document.getElementById('hide').style.display='block';}, 2000);
}

const retry = function() {
	document.getElementById('app').style.display = 'none';
	document.getElementById('clickity').style.display='block';
	document.getElementById('fr').contentWindow.location.reload();
	setTimeout(function() {document.getElementById('app').style.display='block';}, 2000);
}

const urlParams = new URLSearchParams(window.location.search);
document.getElementById('fr').src = createUrl(urlParams.get('code'), urlParams.get('start'), urlParams.get('end'));

setTimeout(function() {document.getElementById('app').style.display='block';}, 2000);
</script>
</body>
</html>
